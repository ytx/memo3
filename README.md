# memo3

VSCodeライクな多機能マークダウンエディタ - Electronベースのメモアプリケーション

## 概要

memo3は、VSCodeのような使いやすさを持つマークダウンエディタです。ファイルシステムベースの管理、多彩なタブ機能、強力な検索機能を備えたデスクトップアプリケーションです。

## 主な機能

### 📁 ファイルシステム管理
- **フォルダベース管理**: 好きなフォルダを選択してワークスペースとして利用
- **自動ファイル監視**: chokidarによるリアルタイムファイル変更監視
- **対応ファイル**: .md（マークダウン）、.txt（テキスト）ファイル
- **自動ソート**: 更新日時順でファイルを自動整理

### 📄 マルチタブエディタ
- **タブ管理**: 複数ファイルの同時編集
- **ドラッグ&ドロップ**: タブの並び替えが可能
- **スマートファイル作成**: 2行以上の内容で自動的にファイル作成
- **自動ファイル名生成**: 最初の行をもとにファイル名を自動生成
- **セッション復元**: アプリ再起動時に開いていたタブを自動復元

### 🔍 強化された検索機能
- **ファイル名検索**: ファイル名による高速検索
- **内容検索**: ファイル内のテキスト全文検索
- **検索結果表示**: ファイル情報（タイトル、ファイル名、更新日時）で表示
- **ワンクリックアクセス**: 検索結果から直接ファイルを開く

### ⚡ 自動保存機能
- **スマート自動保存**: 編集後5秒で自動保存
- **変更検知**: 内容が変更された場合のみ保存を実行
- **タブクローズ時保存**: タブを閉じる際の自動保存

### 🎨 テーマシステム
- **7種類のテーマ**: Monokai、GitHub、Tomorrow、Twilight、Solarized、Dracula など
- **アプリ全体連動**: エディタテーマに合わせてUI全体の色が変更
- **CSS変数活用**: 動的なテーマ切り替え

### ⚙️ 豊富なエディタ設定
- **キーバインド設定**: Vim、Emacs、VSCodeなど複数対応
- **フォントサイズ調整**: エディタの文字サイズをカスタマイズ
- **空白文字表示**: スペース・タブの可視化
- **ACEエディタ統合**: 高機能なコードエディタライブラリを採用

### 🖱️ 直感的なUI
- **コンテキストメニュー**: 
  - ファイル: ファイル名更新・削除
  - ステータスバー: 開発者ツールアクセス
- **ファイル情報表示**: フォルダパス・ファイルパスを2行で表示
- **スマートポジショニング**: 画面端でのメニュー自動調整

## 技術仕様

- **フレームワーク**: Electron 37.4.0
- **エディタ**: ACE Editor 1.43.2
- **ファイル監視**: chokidar 4.0.3
- **対応プラットフォーム**: macOS（Intel・Apple Silicon対応のUniversal Binary）

## インストール・起動方法

### 開発環境での起動
```bash
# 依存関係のインストール
npm install

# 開発モードで起動
npm run dev

# 本番モードで起動
npm start
```

### アプリケーションのビルド
```bash
# Intel Mac用
npm run build

# Universal Binary（Intel + Apple Silicon）
npm run build-universal
```

## アーキテクチャ

### メインプロセス（main.js）
- アプリケーションライフサイクル管理
- ウィンドウ作成・管理
- IPCによるレンダラープロセスとの通信
- ファイルシステム操作・監視

### レンダラープロセス
- **index.html**: メインUIの構造
- **renderer.js**: タブ管理、検索機能、ファイル操作の実装
- **styles.css**: 動的テーマシステム、レスポンシブデザイン

### セキュリティ
- **preload.js**: contextBridgeによる安全なIPC通信
- **Context Isolation**: 有効化済み
- **Node Integration**: 無効化済み

## データ保存

アプリケーションは以下のファイルでデータを管理します：

- **ユーザー選択フォルダ**: .md/.txt ファイルの保存場所
- **workspace.json**: ワークスペース設定（ルートフォルダパス）
- **settings.json**: エディタ設定（キーバインド、テーマ、フォントサイズ等）
- **session.json**: セッション状態（開いているタブ、アクティブタブ等）

## 開発・カスタマイズ

### IPC通信チャンネル

#### ファイル管理
- `get-files`: ファイル一覧取得
- `load-file`: ファイル内容読み込み
- `save-file`: ファイル保存
- `create-file`: 新規ファイル作成
- `delete-file`: ファイル削除
- `rename-file`: ファイル名変更
- `search-files-content`: ファイル検索

#### 設定・セッション
- `get-settings` / `save-settings`: エディタ設定
- `get-session` / `save-session`: セッション状態

### カスタムテーマの追加

`styles.css`のCSS変数を変更することで、新しいテーマを追加できます：

```css
:root {
  --bg-color: #your-bg-color;
  --sidebar-color: #your-sidebar-color;
  --text-color: #your-text-color;
  /* ... その他の変数 */
}
```

## ライセンス

ISC License

## 作者

memo3 team